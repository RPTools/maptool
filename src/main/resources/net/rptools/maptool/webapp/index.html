<!DOCTYPE html>
<!--
  ~ This software Copyright by the RPTools.net development team, and
  ~ licensed under the GPL Version 3 or, at your option, any later version.
  ~
  ~ MapTool 2 Source Code is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this source Code.  If not, see <http://www.gnu.org/licenses/>
  -->

<html>
<head lang='en'>
    <meta charset='UTF-8'>
    <title>MapTool Experimental Web App</title>
    <link rel='stylesheet' type='text/css' href='mtwebapp.css'>
    <script type='text/javascript' src='bower_components/jquery/dist/jquery.js'></script>
    <script type='text/javascript' src='bower_components/handlebars/handlebars.js'></script>
    <script type='text/javascript' src='mtwebapp.js'></script>
    <script type='text/javascript' src='initiative.js'></script>
    <script type='text/javascript' src='tokensheet.js'></script>
</head>
<body>

    <script type='text/x-handlebars-template' id='init-element'>
        <div class='{{initDivClass}} {{tokenOwnerClass}}'>
            <span><img src='/token/image/{{tokenId}}' class='initTokenImage'></span>
            <span class='tokenInitName'><p>{{tokenName}}</p></span>
            <span class='tokenInitValue'><p>{{initiative}}</p></span>
            <div class='tokenInitButtons'>
                <span class='tokenHoldbutton'>
                    <button class='tokenInitButton {{tokenOwnerClass}}'
                            data-initcommand='toggleHoldInitiative'
                            data-tokenindex='{{tokenIndex}}'
                            data-tokenid='{{tokenId}}'>
                        Hold
                    </button>
                </span>
                <span>
                    <button class='tokenSheetButton {{tokenOwnerClass}}'
                            data-tokenid='{{tokenId}}'>
                        Sheet
                    </button>
                </span>
            </div>
        </div>
    </script>

    <script type='text/x-handlebars-template' id='sheet-portrait'>
        <span>
            <img src='/token/portraitOrImage/{{tokenId}}' id='sheetPortrait'  />
        </span>
        <span>
            <table>
                <tbody>
                {{#each sheetProperties}}
                <tr>
                    <th>{{name}}</th>
                    <td>{{value}}</td>
                </tr>
                {{/each}}
                </tbody>
            </table>
        </span>
    </script>

    <script type='text/x-handlebars-template' id='macro-buttons'>
        <table>
            <tbody>
            {{#each this}}
            <tr>
                <th>{{group}}</th>
            </tr>
            {{#each macros}}
            <tr>
                <td>
                    <button name='macroButton-{{label}}'
                            class='macroButton'
                            data-macro-index='{{index}}'
                            data-tokenid='{{tokenId}}'>
                        {{label}}
                    </button>
                </td>
            </tr>
            {{/each}}
            {{/each}}
            </tbody>
        </table>
    </script>


    <div id='r20sheetExample' class='r20Sheet' data-sheetjson='r20/kitchensink/sheet.json'></div>
    <div>
        <div>
            <div id='initBox'>
                <div id='initHeader'>
                    <button class='initButton' data-initcommand='sortInitiative'>Sort</button>
                    <button class='initButton' data-initcommand='previousInitiative'>Previous</button>
                    <button class='initButton' data-initcommand='nextInitiative'>Next</button>
                    <span id='initRound'></span>
                </div>
                <div id='initList'></div>
            </div>

            <div id='sheetBox'></div>
            <div id = 'macroList'></div>
        </div>
    </div>


</body>
</html>
